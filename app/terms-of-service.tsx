import React from 'react';
import { View, Text, StyleSheet, ScrollView } from 'react-native';
import { SafeAreaView } from 'react-native-safe-area-context';
import { Stack } from 'expo-router';
import Colors from '@/constants/colors';
import Typography from '@/constants/typography';
import Spacing from '@/constants/spacing';
import { BorderRadius } from '@/constants/design';

const TERMS_CONTENT = `Terms of Service for Scratch & Go

Last Updated: December 29, 2024

1. ACCEPTANCE OF TERMS

Welcome to Scratch & Go. By downloading, installing, or using our mobile application ("App"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, do not use the App.

These Terms constitute a legally binding agreement between you and Scratch & Go ("we," "us," or "our").

2. DESCRIPTION OF SERVICE

Scratch & Go is a mobile application that provides:
• AI-powered activity suggestions for couples and families
• Interactive scratch card discovery experience
• Activity saving and tracking features
• Collaborative planning tools
• Premium subscription features

The App is available on iOS and Android devices.

3. ELIGIBILITY

You must be at least 13 years old to use the App. If you are between 13 and 18 years old, you must have your parent or guardian's permission to use the App.

By using the App, you represent and warrant that:
• You meet the age requirements
• You have the legal capacity to enter into these Terms
• You will comply with all applicable laws and regulations

4. USER ACCOUNTS AND REGISTRATION

Account Creation
Currently, Scratch & Go does not require account creation. All data is stored locally on your device.

Subscription Accounts
If you purchase a premium subscription:
• Your subscription is managed through the App Store (iOS) or Google Play (Android)
• You must comply with their respective terms and conditions
• We may store minimal subscription status information

Account Security
You are responsible for:
• Maintaining the security of your device
• Any activity that occurs through your device
• Protecting your device password and biometric access

5. FREE AND PREMIUM SERVICES

Free Service
• 3 free activity scratches per month
• Access to core features
• Limited to free activity categories

Premium Subscription
Premium subscriptions are available in two tiers:
• Monthly: $4.99/month
• Yearly: $39.99/year (33% discount)

Premium Benefits:
• Unlimited activity scratches
• Access to exclusive premium categories
• Ad-free experience
• Priority support
• 7-day free trial available

Free Trial
• New subscribers may receive a 7-day free trial
• You will not be charged during the trial period
• Cancel anytime before the trial ends to avoid charges
• Automatically converts to paid subscription unless cancelled

Subscription Terms
• Subscriptions automatically renew unless cancelled at least 24 hours before the current period ends
• You will be charged within 24 hours prior to the end of the current period
• Subscriptions are charged to your App Store or Google Play account
• No refunds for partial subscription periods
• You can cancel anytime through your App Store or Google Play account settings

Price Changes
We reserve the right to change subscription prices with 30 days notice. Price changes will not affect existing subscribers until their next renewal period.

6. USER CONTENT AND CONDUCT

Your Content
You retain all rights to:
• Activities you save
• Notes and ratings you create
• Personal preferences you set

License to Your Content
By using collaborative features (queue, sharing), you grant us a limited, non-exclusive license to:
• Store and display your shared activities
• Enable collaborative features between users
• Generate activity suggestions based on aggregated preferences

Prohibited Conduct
You agree not to:
• Use the App for any illegal purpose
• Attempt to hack, reverse engineer, or compromise the App
• Use automated scripts or bots
• Share your subscription with others
• Abuse the free trial system (multiple trials)
• Harass or harm other users
• Upload malicious content
• Violate any applicable laws or regulations

7. INTELLECTUAL PROPERTY

Our Rights
The App and all content, features, and functionality are owned by Scratch & Go and are protected by copyright, trademark, and other intellectual property laws.

This includes:
• App design and user interface
• Scratch card interaction mechanism
• AI suggestion algorithms
• Logos, branding, and trademarks
• App code and software

Limited License
We grant you a limited, non-exclusive, non-transferable, revocable license to:
• Download and use the App on your personal device
• Access features according to your subscription level
• Use the App for personal, non-commercial purposes

You may not:
• Copy, modify, or distribute the App
• Create derivative works
• Reverse engineer or decompile the App
• Remove copyright or proprietary notices
• Use the App for commercial purposes without permission

8. AI-GENERATED CONTENT

AI Suggestions
Activity suggestions are generated using artificial intelligence:
• Suggestions are personalized based on your inputs
• AI may occasionally generate unexpected or unsuitable content
• We do not guarantee accuracy or appropriateness of all suggestions
• Use your judgment when selecting activities

Liability for AI Content
We are not responsible for:
• Injuries or damages resulting from activities you choose
• Costs associated with suggested activities
• Accuracy of activity descriptions
• Availability of suggested venues or services
• Weather changes or unforeseen circumstances

Filtering and Moderation
We implement filters to:
• Respect your content preferences
• Remove inappropriate suggestions
• Improve suggestion quality over time
• Comply with age-appropriate standards

9. THIRD-PARTY SERVICES

The App integrates with third-party services:
• AI Generation: Anthropic Claude for activity suggestions
• Payments: Stripe, Apple App Store, Google Play
• Maps and Location: Device location services
• Calendar: Device calendar integration
• Weather: Weather data providers

These services have their own terms and privacy policies. We are not responsible for third-party services or their content.

10. PRIVACY AND DATA PROTECTION

Your privacy is important to us. Please review our Privacy Policy to understand how we collect, use, and protect your information.

By using the App, you consent to our data practices as described in the Privacy Policy.

11. DISCLAIMERS AND WARRANTIES

"AS IS" Service
THE APP IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO:
• Merchantability
• Fitness for a particular purpose
• Non-infringement
• Accuracy or reliability
• Uninterrupted or error-free operation

Activity Disclaimers
WE DO NOT GUARANTEE:
• Safety of suggested activities
• Accuracy of activity information
• Availability of venues or services
• Appropriateness for your specific situation
• Quality of experiences

Use at Your Own Risk
You assume all risks associated with:
• Activities you choose to pursue
• Interactions with third-party venues
• Reliance on AI suggestions
• Sharing information with others

12. LIMITATION OF LIABILITY

TO THE MAXIMUM EXTENT PERMITTED BY LAW:

No Liability for Damages
WE ARE NOT LIABLE FOR:
• Indirect, incidental, special, consequential, or punitive damages
• Loss of profits, revenue, data, or use
• Personal injury or property damage
• Costs of substitute services
• Any damages arising from your use of the App

Maximum Liability
Our total liability for all claims related to the App shall not exceed the amount you paid us in the 12 months preceding the claim, or $100, whichever is greater.

Exceptions
Some jurisdictions do not allow limitations on implied warranties or limitation of liability for incidental or consequential damages. In such jurisdictions, our liability will be limited to the maximum extent permitted by law.

13. INDEMNIFICATION

You agree to indemnify, defend, and hold harmless Scratch & Go, its officers, directors, employees, and agents from any claims, liabilities, damages, losses, and expenses (including legal fees) arising from:
• Your use of the App
• Your violation of these Terms
• Your violation of any third-party rights
• Your conduct or activities arising from App suggestions
• Any content you share or upload

14. TERMINATION

Termination by You
You may stop using the App at any time by:
• Deleting the App from your device
• Cancelling your subscription (if applicable)

Termination by Us
We may terminate or suspend your access immediately, without prior notice, if you:
• Violate these Terms
• Engage in fraudulent activity
• Abuse the subscription system
• Harm other users
• Create legal or security risks

Effect of Termination
Upon termination:
• Your right to use the App ceases immediately
• Locally stored data remains on your device until deleted
• Subscriptions follow their cancellation terms
• Certain provisions survive (indemnification, disclaimers, limitation of liability)

15. MODIFICATIONS TO THE APP AND TERMS

App Changes
We reserve the right to:
• Modify or discontinue features
• Update the App with improvements
• Change subscription pricing with notice
• Add or remove functionality

Terms Changes
We may update these Terms at any time. We will notify you of material changes by:
• Updating the "Last Updated" date
• Showing an in-app notification
• Sending an email (if we have your email)

Your continued use after changes constitutes acceptance of the new Terms.

16. DISPUTE RESOLUTION

Informal Resolution
Before filing a claim, please contact us at support@scratchandgo.app to resolve the dispute informally. We will attempt to resolve disputes within 30 days.

Arbitration Agreement
Any disputes arising from these Terms or the App shall be resolved through binding arbitration rather than in court, except:
• Small claims court disputes
• Intellectual property disputes
• Disputes seeking injunctive relief

Class Action Waiver
You agree to resolve disputes on an individual basis only. You waive any right to participate in class actions, class arbitrations, or representative actions.

Arbitration Rules
• Arbitration will be conducted by the American Arbitration Association (AAA)
• AAA Consumer Arbitration Rules apply
• Arbitration location: Your county of residence or mutually agreed location
• Each party pays their own costs unless awarded by arbitrator

Opt-Out of Arbitration
You may opt out of this arbitration agreement within 30 days of first using the App by sending written notice to support@scratchandgo.app with:
• Your name and contact information
• Clear statement of opt-out intent

17. GOVERNING LAW

These Terms are governed by applicable law, without regard to conflict of law principles.

18. MISCELLANEOUS

Entire Agreement
These Terms and our Privacy Policy constitute the entire agreement between you and Scratch & Go regarding the App.

Severability
If any provision is found invalid or unenforceable, the remaining provisions remain in full effect.

Waiver
Our failure to enforce any right or provision does not constitute a waiver of that right.

Assignment
You may not assign these Terms. We may assign these Terms to any affiliate or successor without your consent.

No Third-Party Beneficiaries
These Terms do not create any third-party beneficiary rights.

Force Majeure
We are not liable for failures or delays due to circumstances beyond our reasonable control (natural disasters, war, strikes, internet failures, etc.).

App Store Terms
Your use of the App is also subject to the terms of service of the App Store (iOS) or Google Play (Android) from which you downloaded the App.

19. CONTACT INFORMATION

For questions, concerns, or support regarding these Terms or the App:

Email: support@scratchandgo.app
Website: https://scratchandgo.app

We aim to respond to all inquiries within 5 business days.

20. ACKNOWLEDGMENT

BY USING SCRATCH & GO, YOU ACKNOWLEDGE THAT:
• You have read and understood these Terms
• You agree to be bound by these Terms
• You have reviewed our Privacy Policy
• You understand the limitations and disclaimers
• You use the App at your own risk`;

export default function TermsOfServiceScreen() {
  return (
    <SafeAreaView style={styles.container} edges={['top']}>
      <Stack.Screen
        options={{
          headerShown: true,
          title: 'Terms of Service',
          headerStyle: { backgroundColor: Colors.background },
          headerTintColor: Colors.text,
          headerTitleStyle: { fontWeight: '400' as const },
        }}
      />
      <ScrollView
        style={styles.scrollView}
        contentContainerStyle={styles.contentContainer}
        showsVerticalScrollIndicator={false}
      >
        <Text style={styles.content}>{TERMS_CONTENT}</Text>
      </ScrollView>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.background,
  },
  scrollView: {
    flex: 1,
  },
  contentContainer: {
    padding: Spacing.lg,
    paddingBottom: Spacing.xxl,
  },
  content: {
    fontSize: Typography.sizes.body,
    lineHeight: 24,
    color: Colors.text,
  },
});
